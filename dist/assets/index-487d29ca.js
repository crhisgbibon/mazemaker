(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function D(){let e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",D);window.addEventListener("resize",D);window.addEventListener("orientationchange",D);class Q{constructor(){this.index=0,this.up=!0,this.down=!0,this.left=!0,this.right=!0,this.leftIndex=-1,this.rightIndex=-1,this.upIndex=-1,this.downIndex=-1,this.visited=!1,this.target=!1,this.row=0,this.column=0,this.rowPos=0,this.columnPos=0}}class X{constructor(){this.x=0,this.y=0,this.index=0}Move(i){this.CheckValidPos(i)&&(ge(),i==="UP"?(this.y-=h,this.index=parseInt(this.index)-1):i==="DOWN"?(this.y+=h,this.index=parseInt(this.index)+1):i==="LEFT"?(this.x-=a,this.index=parseInt(this.index)-parseInt(m)):i==="RIGHT"&&(this.x+=a,this.index=parseInt(this.index)+parseInt(m)),S(),C(),O(),F(),this.CheckWin())}CheckValidPos(i){let n=Math.floor(this.x/a),u=Math.floor(this.y/h),s=n*g+u;return this.index=s,!(i==="UP"&&t[s].up===!0||i==="DOWN"&&t[s].down===!0||i==="LEFT"&&t[s].left===!0||i==="RIGHT"&&t[s].right===!0)}CheckWin(){Math.floor(this.x)===Math.floor(t[t.length-1].rowPos+a/2)&&Math.floor(this.y)===Math.floor(t[t.length-1].columnPos-h/2)&&v&&(M&&m<50&&(m++,g++,display001.value=m),H())}}const Y=document.getElementById("generateMaze");Y.onclick=function(){de()};const Z=document.getElementById("ResetButton");Z.onclick=function(){H()};const _=document.getElementById("ControllerButton");_.onclick=function(){pe()};let k=!1;const V=document.getElementById("footerControls");document.getElementById("iUp");document.getElementById("iLeft");document.getElementById("iRight");document.getElementById("iDown");let $="rgba(50, 50, 60, 1)",ee="rgba(150, 250, 150, 1)",te="rgba(250, 150, 150, 1)",ne="rgba(46, 97, 113, 0.35)",G=!1;const N=document.getElementById("settingsMenu");N.style.display="none";const ie=document.getElementById("OptionsButton");ie.onclick=function(){K()};const oe=document.getElementById("SearchButton");oe.onclick=function(){me()};const W=document.getElementById("autonew");W.onclick=function(){ae()};const z=document.getElementById("autoincrement");z.onclick=function(){ce()};const le=document.getElementById("upButton");le.onclick=function(){A("UP")};const se=document.getElementById("downButton");se.onclick=function(){A("DOWN")};const re=document.getElementById("leftButton");re.onclick=function(){A("LEFT")};const he=document.getElementById("rightButton");he.onclick=function(){A("RIGHT")};const b=document.getElementById("gameDiv"),c=document.getElementById("ctx"),l=document.getElementById("ctx").getContext("2d");let m,g,a,h,y,q,f,E,v,R,U,M,T,L,I,t=[],w=[],d=new X;function K(){G=!G,G?N.style.display="":N.style.display="none"}function ue(){display001.value=5,m=5,g=5,k?I=.925:I=.625;let e=window.innerWidth,i=window.innerHeight*I,n;e>=i?n=i:n=e,n=n*.9,T=n,L=n,v=!0,M=!0,W.checked=!0,z.checked=!0,H()}function ae(){v=!v}function ce(){M=!M}function de(){m=Number(display001.value),g=Number(display001.value),v=W.checked,M=z.checked,K(),H()}function H(){t.length=0,w.length=0,x=new P,m=Number(display001.value),g=Number(display001.value),v=W.checked,M=z.checked,c.width=T,c.height=L,a=c.width/m,h=c.height/g,y=0,t[0],q=!0,f=0,R=Math.random(),U=Math.random();for(let e=0;e<m;e++)for(let i=0;i<g;i++){let n=new Q;n.row=e,n.column=i,n.rowPos=e*a,n.columnPos=i*h+h,n.index=y,y+g<=m*g?n.rightIndex=y+g:n.rightIndex=-1,y-g>=0?n.leftIndex=y-g:n.leftIndex=-1,i<g-1?n.downIndex=y+1:n.downIndex=-1,i>0?n.upIndex=y-1:n.upIndex=-1,y===m*g-1&&(n.target=!0),t.push(n),y++}fe()}function fe(){f=Math.floor(Math.random()*t.length),w.push(f),E=w.length-1;let e=0;for(;q&&(e++,!(e>1e8));){let i=[];t[f].visited=!0;let n=f-1,u=f+1,s=f-g,o=f+g;if(n>=0&&n<t.length&&t[f].column!=0&&t[n].visited===!1&&i.push(n),u>=0&&u<t.length&&t[f].column!=g-1&&t[u].visited===!1&&i.push(u),s>=0&&s<t.length&&t[f].row!=0&&t[s].visited===!1&&i.push(s),o>=0&&o<t.length&&t[f].row!=m-1&&t[o].visited===!1&&i.push(o),i.length>0){let r=Math.floor(Math.random()*i.length);i[r]===n&&(t[f].up=!1,t[n].down=!1),i[r]===u&&(t[f].down=!1,t[u].up=!1),i[r]===s&&(t[f].left=!1,t[s].right=!1),i[r]===o&&(t[f].right=!1,t[o].left=!1),w.push(i[r]),t[i[r]].visited=!0,j()}else w.splice(E,1),j()}d.x=t[0].rowPos+a/2,d.y=t[0].columnPos-h/2,d.index=0,S(),C(),O(),F()}function j(){if(w.length>0){let e=Math.random();if(e>=R)f=w[w.length-1],E=w.length-1;else if(e<R&&e>=U)f=w[0],E=0;else if(e<U){let i=Math.floor(Math.random()*w.length);f=w[i],E=i}}else q=!1}function S(){l.clearRect(0,0,c.width,c.height)}function C(){l.strokeStyle=$,l.lineWidth=1;const e=l.lineWidth/2,i=l.lineWidth;l.beginPath(),l.rect(0,0,c.width,c.height),l.stroke();for(let n=0;n<t.length;n++)t[n].visited===!0&&(l.beginPath(),l.fill()),t[n].up===!0&&(l.beginPath(),l.moveTo(t[n].rowPos+e,t[n].columnPos-h+e),l.lineTo(t[n].rowPos+a+e,t[n].columnPos-h+e),l.stroke()),t[n].down===!0&&(l.beginPath(),l.moveTo(t[n].rowPos+e,t[n].columnPos+e),l.lineTo(t[n].rowPos+a+e,t[n].columnPos+e),l.stroke()),t[n].left===!0&&(l.beginPath(),l.moveTo(t[n].rowPos,t[n].columnPos-i),l.lineTo(t[n].rowPos,t[n].columnPos-h),l.stroke()),t[n].right===!0&&(l.beginPath(),l.moveTo(t[n].rowPos+a,t[n].columnPos+i),l.lineTo(t[n].rowPos+a,t[n].columnPos-h),l.stroke());l.beginPath(),l.moveTo(0+e,0+e),l.lineTo(0+e,c.height+e),l.stroke(),l.beginPath(),l.moveTo(0-e,c.width-e),l.lineTo(c.height-e,c.width-e),l.stroke(),l.beginPath(),l.moveTo(c.height-e,c.width-e),l.lineTo(c.height-e,0-e),l.stroke(),l.beginPath(),l.moveTo(0+e,0+e),l.lineTo(c.height+e,0+e),l.stroke()}function O(){if(x.path.length!==0){l.fillStyle=ne;for(let e=0;e<x.path.length;e++)l.fillRect(t[x.path[e]].rowPos,t[x.path[e]].columnPos-h,a+l.lineWidth/16,h+l.lineWidth/16)}}function ge(){l.clearRect(d.x-a/3,d.y-h/3,a/1.5,h/1.5)}function F(){const e=l.lineWidth/4;l.fillStyle=te,l.fillRect(t[t.length-1].rowPos+a/4+e,t[t.length-1].columnPos-h/2-h/4+e,a/2,h/2),l.fillStyle=ee,l.fillRect(d.x-a/4+e,d.y-h/4+e,a/2,h/2)}document.onkeydown=function(e){(e.key==="d"||e.key==="ArrowRight")&&d.Move("RIGHT"),(e.key==="s"||e.key==="ArrowDown")&&d.Move("DOWN"),(e.key==="a"||e.key==="ArrowLeft")&&d.Move("LEFT"),(e.key==="w"||e.key==="ArrowUp")&&d.Move("UP")};function A(e){e==="UP"?d.Move("UP"):e==="DOWN"?d.Move("DOWN"):e==="LEFT"?d.Move("LEFT"):e==="RIGHT"&&d.Move("RIGHT")}function pe(){k=!k,k?V.style.display="none":V.style.display="",t.length>0&&J()}function J(){k?I=.925:I=.625;let e;k?e=92.5:e=62.5;let i=window.innerWidth,n=window.innerHeight*I,u;i>=n?u=n:u=i,b.style.height="calc(var(--vh) * "+e+")",b.style.top="calc(var(--vh) * 7.5)",b.style.display="flex",b.style.justifyContent="center",b.style.alignItems="center",u=u*.9,T=u,L=u,c.width=T,c.height=L,a=c.width/m,h=c.height/g;let s=0;for(let o=0;o<m;o++)for(let r=0;r<g;r++)t[s].rowPos=o*a,t[s].columnPos=r*h+h,s++;d.x=t[d.index].rowPos+a/2,d.y=t[d.index].columnPos-h/2,t.length>0&&(S(),C(),O(),F())}class P{constructor(){this.path=[],this.completed=!1}}let p=[],x=new P;function me(){p=[];let e=d.index,i=new P;i.path.push(e),p.push(i);let n=!1,u=0;for(;!n&&(u++,!(u>1e4));){if(p.length>0){let o=p[0].path.length,r=0;for(let B=0;B<p.length;B++)p[B].path.length<o&&(o=p[B].path.length,r=B);i=p[r],e=i.path[i.path.length-1]}if(t[e].left===!1&&!i.path.includes(t[e].leftIndex)&&t[e].left===!1){let o=new P;for(let r=0;r<i.path.length;r++)o.path.push(i.path[r]);if(o.path.push(t[e].leftIndex),p.push(o),t[t[e].leftIndex].target===!0){o.completed=!0,p.indexOf(o),x=o,n=!0;break}}if(t[e].right===!1&&!i.path.includes(t[e].rightIndex)&&t[e].right===!1){let o=new P;for(let r=0;r<i.path.length;r++)o.path.push(i.path[r]);if(o.path.push(t[e].rightIndex),p.push(o),t[t[e].rightIndex].target===!0){o.completed=!0,p.indexOf(o),x=o,n=!0;break}}if(t[e].up===!1&&!i.path.includes(t[e].upIndex)&&t[e].up===!1){let o=new P;for(let r=0;r<i.path.length;r++)o.path.push(i.path[r]);if(o.path.push(t[e].upIndex),p.push(o),t[t[e].upIndex].target===!0){o.completed=!0,p.indexOf(o),x=o,n=!0;break}}if(t[e].down===!1&&!i.path.includes(t[e].downIndex)&&t[e].down===!1){let o=new P;for(let r=0;r<i.path.length;r++)o.path.push(i.path[r]);if(o.path.push(t[e].downIndex),p.push(o),t[t[e].downIndex].target===!0){o.completed=!0,p.indexOf(o),x=o,n=!0;break}}let s=p.indexOf(i);p.splice(s,1)}S(),C(),O(),F()}window.addEventListener("resize",J);document.addEventListener("DOMContentLoaded",ue);
